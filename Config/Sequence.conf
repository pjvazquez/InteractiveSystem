{
    "states":
        ["start", "have_people", "show_message", "wait_smiles", "show_message", "end"],

    "transitions" : [
        { 
            "trigger": "next", 
            "source": "start", 
            "dest": "have_people", 
            "prepare": ["wait_time"], 
            "conditions": "time_elapsed", 
            "after": "stats"
            },
        { 
            "trigger": "next", 
            "source": "have_people", 
            "dest": "wait_smiles", 
            "prepare": ["count_people", "wait_time"], 
            "conditions": "have_people", 
            "after": "stats"
            },
        { 
            "trigger": "next", 
            "source": "have_people", 
            "dest": "show_something", 
            "prepare": ["count_people", "wait_time"], 
            "conditions": "dont_have_people", 
            "after": "stats"
            },
        { 
            "trigger": "next", 
            "source": "show_something", 
            "dest": "have_people", 
            "prepare": ["show_image", "wait_time"], 
            "conditions": "have_people", 
            "after": "stats"
            },
        { 
            "trigger": "next", 
            "source": "wait_smiles", 
            "dest": "show_message", 
            "prepare": ["make_smile", "wait_time"], 
            "conditions": "are_smiling", 
            "after": "stats"
            },
        { 
            "trigger": "next", 
            "source": "show_message", 
            "dest": "end", 
            "prepare": ["show_message", "wait_time"], 
            "conditions": ["message_shown"], 
            "after": "stats"
            },
        { 
            "trigger": "next", 
            "source": "end", 
            "dest": "start", 
            "prepare": ["wait_time"], 
            "conditions": "time_elapsed", 
            "after": "stats"
            },
    ]

}